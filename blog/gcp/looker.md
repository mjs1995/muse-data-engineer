# Looker와 LookerML
## Looker
- Looker는 Google Cloud의 혁신적인 데이터 플랫폼으로, 사용자가 데이터를 대화형으로 분석하고 시각화할 수 있게 해줍니다. Looker를 통해 사용자는 심층적인 데이터 분석을 수행하고, 다양한 데이터 소스를 통합하여 통찰력을 얻으며, 데이터 기반의 워크플로와 맞춤형 데이터 애플리케이션을 구축할 수 있습니다.
- ![image](https://github.com/mjs1995/muse-data-engineer/assets/47103479/6ff3fd27-c231-4d98-b3f7-bf02e4b30c26)
  - https://www.youtube.com/watch?v=kxgcj9T0G1Q&t=215s
- 사용자는 Looker를 통해 데이터를 심층적으로 분석하고, 다양한 데이터 소스를 통합하며, 데이터 기반 워크플로와 맞춤형 데이터 애플리케이션을 구축할 수 있습니다.
- 플랫폼 특징
  - 브라우저 기반 SaaS: Looker는 SQL 데이터베이스에 직접 연결되는 SaaS 플랫폼입니다.
  - 다양한 데이터 소스 연결: Salesforce, Mailchimp, Zendesk 등의 SaaS 애플리케이션과 연결 가능합니다.
  - 멀티 클라우드 지원
- Looker의 주요 이점
  - 민첩한 모델링 계층: Looker의 모델링 계층을 통해 SQL 쿼리를 수동으로 작성하고 편집하는 시간을 절약할 수 있습니다.
  - LookML: SQL의 추상화 계층으로, 개발자는 LookML을 사용해 데이터베이스 구성과 테이블 간의 관계를 정의할 수 있습니다.
  - 데이터 거버넌스: 모든 사용자가 이해하고 신뢰할 수 있는 단일 정보 소스를 제공합니다.
- 사용자 인터페이스 및 데이터 보안
  - Looker UI를 통해 사용자 역할 할당, 필드 및 데이터 행에 대한 접근 제어 등을 관리할 수 있습니다.
- 데이터 표시 및 공유
  - 웹 인터페이스, 이메일 또는 Cloud Storage를 통한 데이터 전송, 다른 웹사이트나 애플리케이션에 대한 통합 등 다양한 방법으로 쿼리 결과를 표시하고 공유할 수 있습니다.
- REST API 및 개발 프레임워크
  - Looker는 REST API를 제공하여 플랫폼에서 직접 데이터와 메타데이터를 검색, 분석, 변환할 수 있도록 합니다.
  - 이 아키텍처는 엔터프라이즈급 워크플로와 정확하고 최신 버전의 데이터에 대한 액세스를 지원합니다.
- 개발 모드와 프로덕션 모드
  - Looker는 개발 모드와 프로덕션 모드를 제공합니다. 개발 모드를 사용하면 LookML 파일을 변경하고, 이 변경이 인스턴스 콘텐츠에 미치는 영향을 미리 볼 수 있습니다. 이 모드에서의 변경사항은 프로덕션 환경에 반영되지 않아 안전한 개발 환경을 제공합니다. 또한, Git과의 통합을 통해 버전 관리가 용이해집니다.
  - 개발 모드로 전환하면 Looker는 변경 사항을 적용하고 테스트할 수 있는 로컬 분기를 자동으로 생성합니다.이 브랜치는 본인만 수정할 수 있지만, 동일한 프로젝트에 액세스할 수 있는 개발자는 원할 경우 다른 사람의 브랜치를 볼 수 있습니다.
- 버전 관리와 Git 통합
  - Looker는 Git과 통합되어 있어, 개발자는 LookML 파일의 사본을 안전하게 수정하고 버전 관리할 수 있습니다. Looker의 IDE는 변경사항을 커밋하고, 가져오며, 내보내는 Git 워크플로를 자동으로 관리합니다.

## 파생 테이블과 쿼리 최적화
- 파생 테이블
  - Looker는 SQL Runner를 통해 데이터베이스에 직접 액세스할 수 있습니다. 이를 통해 파생 테이블을 생성하고, 쿼리를 최적화할 수 있습니다. 파생 테이블은 복잡하거나 자주 사용되는 쿼리를 빠르게 실행하기 위해 사용되며, 캐시되거나 지속될 수 있습니다. 이를 통해 데이터 업데이트를 신속하게 반영하고, 쿼리 런타임을 단축할 수 있습니다.
  - Looker의 영구 파생 테이블(PDT)
    - Looker에서 사용하는 영구 파생 테이블(PDT)은 SQL 및 LookML 쿼리를 이용해 데이터베이스에 임시 테이블로 생성된 테이블입니다.
    - 용도: 복잡하거나 자주 사용되는 쿼리를 반복적으로 실행하고, 빠른 데이터 액세스를 위해 결과를 캐시하는 데 사용됩니다.
    - 이점: 쿼리 런타임 감소, 비즈니스 사용자가 필요할 때 즉시 데이터 사용 가능.
    - 단점: 데이터베이스 저장 공간 사용 증가(비용 증가 가능성).
